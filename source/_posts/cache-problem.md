---
title: 缓存问题
date: 2022-07-23 15:04:28
tags:
categories: 后端
---

缓存三大问题：缓存穿透、缓存击穿、缓存雪崩

<!-- more -->

## 缓存穿透

问题：查询一定不存在的数据，缓存和 DB 都没有的数据，通常是恶意扫描

解决:
1. 缓存空结果，过期时间短
2. 布隆过滤器

## 缓存击穿

问题：查询的数据刚好过期或者还没有缓存

解决:
1. 互斥锁
2. 永远不过期
3. singleflight

## 缓存雪崩

问题：缓存的数据刚好同一时间过期

解决:
1. 过期时间随机
2. 互斥锁
